@using TerranForum.Domain.Models
@using Microsoft.AspNetCore.Identity
@using System.ComponentModel.DataAnnotations
@model Post

@inject SignInManager<ApplicationUser> SignInManager

@{
}

@foreach (var paragraph in Model.Content.Split("\r\n\r\n"))
{
    <p>@paragraph</p>
}
<div class="container-fluid">
    <div class="d-flex justify-content-end">
        @Model.User.UserName
    </div>
</div>
<div class="container">
    @foreach (var reply in Model.Replies)
    {
        <div class="container">
            <p>@reply.Content</p>
        </div>
    }
    <div id="createReply">
        @if (SignInManager.IsSignedIn(User))
        {
            <a href="#" class="replyAchor" postId="@Model.Id" id="addReply">Add Comment</a>
        }
        else
        {
            <a class="nav-link" asp-area="Identity" asp-page="/Account/Login">Add Comment</a>
        }
    </div>
</div>
